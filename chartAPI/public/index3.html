<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>可视化数据展示</title>
  <link rel="stylesheet" href="./css/reset.css"/>
  <link rel="stylesheet" href="./css/index.css"/>
  <style>
    .myChart{
      width: 1000px;
      height: 400px;
      margin: 20px auto;
    }
  </style>
</head>
<body>

<div class="myChart" id="myChart1"></div>


<script src="./js/vue.js"></script>
<script src="./js/vue-resource.min.js"></script>
<script src="./js/echarts/build/dist/echarts-all.js"></script>

<script>

  var option1 = {
    title : {
      text: '动态数据',
      subtext: '纯属虚构'
    },
    tooltip : {
      trigger: 'item'
    },
    legend: {
      data:['随机数据1','随机数据2','随机数据3','随机数据4','随机数据5']
    },
    calculable : false,
    series : [
      {
        name:'pie',
        type:'pie',
        radius : [0, 110],
        center: [250, 225],
        data: (function (){
          var res = [];
          var len = 0;
          while (len++ < 5) {
            res.push({
              name: '随机数据' + len,
              value: Math.round(Math.random()*10)
            });
          }
          return res;
        })()
      },
    ]
  };
  var lastIndex = 5;
  var axisData;
  clearInterval(timeTicket);
  var timeTicket = setInterval(function (){
    lastIndex += 1;
    // 动态数据接口 addData
    myChart1.addData([
      [
        0,        // 系列索引
        {         // 新增数据
          name: '随机数据' + lastIndex,
          value: Math.round(Math.random()*10)
        },
        false,     // 新增数据是否从队列头部插入
        false,     // 是否增加队列长度，false则自定删除原有数据，队头插入删队尾，队尾插入删队头
        '随机数据' + lastIndex
      ]

    ]);
  }, 2000);


  var myChart1 = echarts.init(document.getElementById('myChart1'));

  // 为echarts对象加载数据
  myChart1.setOption(option1);
</script>

</body>
</html>